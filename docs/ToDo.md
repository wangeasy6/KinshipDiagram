## ToDo

关系显示界面：

1. 婚姻关系显示
2. 库合并
3. 添加人员后的更新逻辑调整：刷新当前页面，留下更新标记，在切换到其它页面的时候刷新
4. 前进按钮功能添加
5. 重选照片后，原照片删除
6. 裁剪照片：可旋转照片，可指定度数，添加涂鸦，边界自动扩充or设置移动边界。
7. **关系修改、添加、删除**
8. 添加人员时的排名检查
9. 修复 主人公母亲的第二个孩子、主人公父亲的前任 等的显示位置
10. 改添加连线的方式，从查找变为映射，提高执行速度
11. 平滑连线
12. 删除子女后，其它子女的排名修改（低优先级，除非写错了，否则出生了就不会更改）
13. 删除老大之后，添加子女的排名预填有问题
14. 在启动时加入数据库检查，加载进度条。
15. 数据库版本、Check 数据库、迁移数据库。（前置：启动进度条）
16. 父母爷奶的多婚姻显示
17. 当作为 Mate 显示时，显示的是婚姻排名，点击后调整的是婚姻的排名
18. **日期输入引导**：日期专用输入框 - 3框 + 农历时辰
19. 添加完人后，侧边人员还是上一次点击的人员
20. 用户引导：说明书放到 help 信息，操作演示动画。
21. 新建之后，可能在当前页面不会显示，让人觉得没有新建成功。
22. 路径：从某人（主人公、临时主人公）到某人。
23. 使用 visible 控制子窗口的显示，有**鼠标穿透**，父页面还可以操作的问题。
24. **连线显示效果间隔不一致，多婚姻时，子女的连线区分不开**
25. **设置**：
    1. 语言切换：中文/英文
    1. 保存照片默认后缀，JPEG（压缩率）/PNG
    1. 古代/现代：妻/妾 or 妻/Ex
26. **反馈建议**（1.0版本之前添加，在此志强通过开发者通道反馈）
    1. 信息 + 打赏页
    2. 用户指南页（包含常见问题）
    3. 我要反馈页（类型：有点儿问题、改进意见、添加功能）
27. 屏幕自适应：不同分辨率/DPI
28. **测试**
29. **发布**
30. 无图模式：为书籍中的名字制作族谱
31. 日志处理，打印隐藏
32. 选中某人后，点亮有关的关系线



## Bug

[0.14.2]

* 删除后添加人员，程序崩溃。（Debugger 模式不能复现，但正常模式稳定出现）

* 遗留Bug：不能叫 “主人公”，两个人如果同名，则不能搜索路径。

* 侧栏照片大小不固定（小于 250*350 时会变小）

* 替换图片后侧边栏不刷新。

* ```
  Failed add Person. "database is locked 无法获取行"
  qml: Add Person failed.
  ```

* 关联子女时，要检查子女是否已经有父/母了。



**commit 流程：**

1. 格式化修改过的文件
2. 检查 HelpInfo 中的 版本号

## commit

[0.14.4]

1. 保存信息后消除标志
1. 调整了子女连线的显示效果
1. 可以通过鼠标拖拽调整窗口大小
1. searchViewSwitch 切换时清除数据

