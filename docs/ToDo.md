## ToDo

关系显示界面：

1. **婚姻关系显示**
2. 库合并
3. 添加人员后的更新逻辑调整：刷新当前页面，留下更新标记，在切换到其它页面的时候刷新
4. 前进按钮功能添加
5. 重选照片后，原照片删除
6. 裁剪照片：可旋转照片，可指定度数，添加涂鸦，边界自动扩充or设置移动边界。
7. 关系删除检查；关系中调整子女排名联动；关系删除后，人员列表中可能需要重选类型才会出现刚刚删除的人；
8. 添加人员时的排名检查
9. 改添加连线的方式，从查找变为映射，提高执行速度
10. 平滑连线
11. 删除子女后，其它子女的排名修改（低优先级，除非写错了，否则出生了就不会更改）
12. 删除老大之后，添加子女的排名预填有问题
13. 在启动时加入数据库检查，加载进度条。
14. 数据库版本、Check 数据库、迁移数据库。（前置：启动进度条）
15. 父母爷奶的多婚姻显示
16. **当作为 Mate 显示时，显示的是婚姻排名，点击后调整的是婚姻的排名**
17. **日期输入引导**：日期专用输入框 - 3框 + 农历时辰
18. 添加完人后，侧边人员还是上一次点击的人员
19. 新建之后，可能在当前页面不会显示，让人觉得没有新建成功。
20. 使用 visible 控制子窗口的显示，有**鼠标穿透**，父页面还可以操作的问题。
21. 优化用户指南：添加操作演示动画。
23. 屏幕自适应：不同分辨率/DPI
24. **测试**
25. **发布：安装程序、升级程序（Mac系统编译发布）**
26. 日志处理，打印隐藏
27. 生日提醒功能



### 快捷键支持

| 功能     | 快捷键 |
| -------- | ------ |
| 新建项目 | Ctrl+N |
| 打开项目 | Ctrl+O |
| 保存项目 | Ctrl+S |
| 添加人物 | Ctrl+A |
| 删除人物 | Del    |
| 编辑人物 | Ctrl+E |
| 显示帮助 | F1     |



## Bug

[0.14.2]

* 遗留Bug：不能叫 “主人公”；如果有同名，则搜索路径可能会有问题。

* 替换图片后侧边栏不刷新。

* 数据库操作失败显示提示：

  ```
  Failed add Person. "database is locked 无法获取行"
  qml: Add Person failed.
  ```

  



**commit 流程：**

1. 格式化修改过的文件
2. 检查 HelpInfo 中的 版本号
3. 如果更新了 UserManual.md，更新 UserManual.html

**发布流程：**

1. 编译 Release 版本
2. 替换 data 中的软件（如果更新了 UserManual.html，更新到 docs 文件夹）
3. 修改 config.xml、package.xml
4. 生成安装包

## commit

[0.16.0]

1. 添加编辑关系功能，新增关系删除、添加界面

